<!-- Business Transaction Modal - UPDATED: Removed vendor/client and invoice/reference fields -->
<div class="modal fade" id="transactionModal" tabindex="-1" aria-labelledby="transactionModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-lg">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="transactionModalLabel">Add Business Expense</h5>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body">
                <form id="transactionForm" novalidate>
                    <!-- Hidden field for transaction type -->
                    <input type="hidden" id="transactionType" value="Expense">
                    
                    <div class="row">
                        <div class="col-md-6 mb-3">
                            <label for="transactionDate" class="form-label">Date <span class="text-danger">*</span></label>
                            <input type="date" class="form-control" id="transactionDate" required>
                        </div>
                        <div class="col-md-6 mb-3">
                            <label for="transactionAmount" class="form-label">Amount <span class="text-danger">*</span></label>
                            <div class="input-group">
                                <span class="input-group-text">$</span>
                                <input type="number" class="form-control" id="transactionAmount" 
                                       placeholder="0.00" step="0.01" min="0.01" required>
                            </div>
                        </div>
                    </div>
                    
                    <div class="mb-3">
                        <label for="transactionDescription" class="form-label">Description <span class="text-danger">*</span></label>
                        <input type="text" class="form-control" id="transactionDescription" 
                               placeholder="Brief description of the expense" maxlength="200" required>
                    </div>
                    
                    <div class="row">
                        <div class="col-md-6 mb-3">
                            <label for="transactionCategory" class="form-label">Category <span class="text-danger">*</span></label>
                            <select class="form-select" id="transactionCategory" required onchange="populateSubCategories()">
                                <option value="">Select category...</option>
                                <option value="Cost of Goods Sold">Cost of Goods Sold</option>
                                <option value="Marketing & Advertising">Marketing & Advertising</option>
                                <option value="Operations">Operations</option>
                                <option value="Equipment & Supplies">Equipment & Supplies</option>
                                <option value="Professional Services">Professional Services</option>
                                <option value="Travel & Transport">Travel & Transport</option>
                                <option value="Other Expenses">Other Expenses</option>
                            </select>
                        </div>
                        <div class="col-md-6 mb-3">
                            <label for="transactionSubCategory" class="form-label">Sub Category</label>
                            <select class="form-select" id="transactionSubCategory">
                                <option value="">Select sub category...</option>
                            </select>
                        </div>
                    </div>
                    
                    <div class="mb-3">
                        <label for="transactionAccount" class="form-label">Payment Method <span class="text-danger">*</span></label>
                        <select class="form-select" id="transactionAccount" required>
                            <option value="">Select payment method...</option>
                            <option value="Business Checking">Business Checking</option>
                            <option value="Business Credit Card">Business Credit Card</option>
                            <option value="Business Savings">Business Savings</option>
                            <option value="Cash">Cash</option>
                            <option value="PayPal">PayPal</option>
                            <option value="Venmo">Venmo</option>
                            <option value="Other">Other</option>
                        </select>
                    </div>
                    
                    <div class="mb-3">
                        <label for="transactionNotes" class="form-label">Notes</label>
                        <textarea class="form-control" id="transactionNotes" rows="2" 
                                  placeholder="Additional notes about this transaction..." maxlength="500"></textarea>
                        <div class="form-text">
                            <small class="text-muted">Optional: Add any additional details or context</small>
                        </div>
                    </div>
                </form>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">
                    <i class="fas fa-times me-1"></i> Cancel
                </button>
                <button type="button" class="btn btn-primary" onclick="saveTransaction()">
                    <span id="saveTransactionText">Save Expense</span>
                </button>
            </div>
        </div>
    </div>
</div>

<!-- Transaction Quick Actions (for mobile) -->
<div class="d-block d-md-none mb-3">
    <div class="row g-2">
        <div class="col-12">
            <button class="btn btn-danger w-100" onclick="showAddExpenseModal()">
                <i class="fas fa-minus me-1"></i> Add Expense
            </button>
        </div>
    </div>
</div>